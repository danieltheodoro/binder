#!/bin/bash
set -eux

echo "Instalando kernel do Bash..."
python3 -m bash_kernel.install

echo "Instalando kernel do Go (gophernotes)..."
git clone --depth=1 https://github.com/gopherdata/gophernotes.git /tmp/gophernotes
cd /tmp/gophernotes
mkdir -p ~/.local/share/jupyter/kernels/gophernotes
cp -r kernel/* ~/.local/share/jupyter/kernels/gophernotes
go install
cd -

echo "Instalando kernel do .NET (C#)..."
dotnet tool install --global Microsoft.dotnet-interactive
export PATH="$PATH:/home/jovyan/.dotnet/tools"
dotnet interactive jupyter install

echo "Registrando kernel do Julia..."
julia -e 'import Pkg; Pkg.add("IJulia"); using IJulia; installkernel("Julia")'

echo "Registrando kernel do Octave..."
python3 -m pip install --upgrade --force-reinstall octave_kernel

# Abaixo: espaço reservado para kernels extras que não têm suporte oficial Binder ou precisam de workarounds
# echo "Instalando kernel de Haskell / Swift / Kotlin / etc... (manual/custom build necessário)"
